<Project>
    <Target Name="AddVstsAttributes" BeforeTargets="CoreCompile" Condition="'$(TF_BUILD)'!=''">
        <ItemGroup>
            <AssemblyAttribute Include="System.Reflection.AssemblyMetadata">
                <_Parameter1>Vsts_AgentId</_Parameter1>
                <_Parameter2>$(AGENT_ID)</_Parameter2>
            </AssemblyAttribute>
            <AssemblyAttribute Include="System.Reflection.AssemblyMetadata">
                <_Parameter1>Vsts_AgentName</_Parameter1>
                <_Parameter2>$(AGENT_NAME)</_Parameter2>
            </AssemblyAttribute>
            <AssemblyAttribute Include="System.Reflection.AssemblyMetadata">
                <_Parameter1>Vsts_BuildId</_Parameter1>
                <_Parameter2>$(BUILD_BUILDID)</_Parameter2>
            </AssemblyAttribute>
            <AssemblyAttribute Include="System.Reflection.AssemblyMetadata">
                <_Parameter1>Vsts_BuildNumber</_Parameter1>
                <_Parameter2>$(BUILD_BUILDNUMBER)</_Parameter2>
            </AssemblyAttribute>
            <AssemblyAttribute Include="System.Reflection.AssemblyMetadata">
                <_Parameter1>Vsts_BuildDefinitionName</_Parameter1>
                <_Parameter2>$(BUILD_DEFINITIONNAME)</_Parameter2>
            </AssemblyAttribute>
            <AssemblyAttribute Include="System.Reflection.AssemblyMetadata">
                <_Parameter1>Vsts_BuildDefinitionVersion</_Parameter1>
                <_Parameter2>$(BUILD_DEFINITIONVERSION)</_Parameter2>
            </AssemblyAttribute>
            <AssemblyAttribute Include="System.Reflection.AssemblyMetadata">
                <_Parameter1>Vsts_RepositoryName</_Parameter1>
                <_Parameter2>$(BUILD_REPOSITORY_NAME)</_Parameter2>
            </AssemblyAttribute>
            <AssemblyAttribute Include="System.Reflection.AssemblyMetadata">
                <_Parameter1>Vsts_RepositoryProvider</_Parameter1>
                <_Parameter2>$(BUILD_REPOSITORY_PROVIDER)</_Parameter2>
            </AssemblyAttribute>
            <AssemblyAttribute Include="System.Reflection.AssemblyMetadata">
                <_Parameter1>Vsts_RepositoryUri</_Parameter1>
                <_Parameter2>$(BUILD_REPOSITORY_URI)</_Parameter2>
            </AssemblyAttribute>
            <AssemblyAttribute Include="System.Reflection.AssemblyMetadata">
                <_Parameter1>Vsts_SourceBranch</_Parameter1>
                <_Parameter2>$(BUILD_SOURCEBRANCH)</_Parameter2>
            </AssemblyAttribute>
            <AssemblyAttribute Include="System.Reflection.AssemblyMetadata">
                <_Parameter1>Vsts_SourceBranchName</_Parameter1>
                <_Parameter2>$(BUILD_SOURCEBRANCHNAME)</_Parameter2>
            </AssemblyAttribute>
            <AssemblyAttribute Include="System.Reflection.AssemblyMetadata">
                <_Parameter1>Vsts_SourceVersion</_Parameter1>
                <_Parameter2>$(BUILD_SOURCEVERSION)</_Parameter2>
            </AssemblyAttribute>
            <AssemblyAttribute Include="System.Reflection.AssemblyMetadata">
                <_Parameter1>Vsts_CollectionId</_Parameter1>
                <_Parameter2>$(SYSTEM_COLLECTIONID)</_Parameter2>
            </AssemblyAttribute>
            <AssemblyAttribute Include="System.Reflection.AssemblyMetadata">
                <_Parameter1>Vsts_DefinitionId</_Parameter1>
                <_Parameter2>$(SYSTEM_DEFINITIONID)</_Parameter2>
            </AssemblyAttribute>
            <AssemblyAttribute Include="System.Reflection.AssemblyMetadata">
                <_Parameter1>Vsts_CollectionUri</_Parameter1>
                <_Parameter2>$(SYSTEM_TEAMFOUNDATIONCOLLECTIONURI)</_Parameter2>
            </AssemblyAttribute>
            <AssemblyAttribute Include="System.Reflection.AssemblyMetadata">
                <_Parameter1>Vsts_TeamProject</_Parameter1>
                <_Parameter2>$(SYSTEM_TEAMPROJECT)</_Parameter2>
            </AssemblyAttribute>
            <AssemblyAttribute Include="System.Reflection.AssemblyMetadata">
                <_Parameter1>Vsts_TeamProjectId</_Parameter1>
                <_Parameter2>$(SYSTEM_TEAMPROJECTID)</_Parameter2>
            </AssemblyAttribute>
        </ItemGroup>
    </Target>
</Project>
