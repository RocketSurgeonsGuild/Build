<Project>
    <Target Name="AddVstsAttributes" BeforeTargets="CoreCompile" Condition="'$(TF_BUILD)'!=''">
        <ItemGroup>
            <AssemblyMetadata Include="Vsts_AgentId" Value="$(AGENT_ID)" />
            <AssemblyMetadata Include="Vsts_AgentName" Value="$(AGENT_NAME)" />
            <AssemblyMetadata Include="Vsts_BuildId" Value="$(BUILD_BUILDID)" />
            <AssemblyMetadata Include="Vsts_BuildNumber" Value="$(BUILD_BUILDNUMBER)" />
            <AssemblyMetadata Include="Vsts_BuildDefinitionName" Value="$(BUILD_DEFINITIONNAME)" />
            <AssemblyMetadata Include="Vsts_BuildDefinitionVersion" Value="$(BUILD_DEFINITIONVERSION)" />
            <AssemblyMetadata Include="Vsts_RepositoryName" Value="$(BUILD_REPOSITORY_NAME)" />
            <AssemblyMetadata Include="Vsts_RepositoryProvider" Value="$(BUILD_REPOSITORY_PROVIDER)" />
            <AssemblyMetadata Include="Vsts_RepositoryUri" Value="$(BUILD_REPOSITORY_URI)" />
            <AssemblyMetadata Include="Vsts_SourceBranch" Value="$(BUILD_SOURCEBRANCH)" />
            <AssemblyMetadata Include="Vsts_SourceBranchName" Value="$(BUILD_SOURCEBRANCHNAME)" />
            <AssemblyMetadata Include="Vsts_SourceVersion" Value="$(BUILD_SOURCEVERSION)" />
            <AssemblyMetadata Include="Vsts_CollectionId" Value="$(SYSTEM_COLLECTIONID)" />
            <AssemblyMetadata Include="Vsts_DefinitionId" Value="$(SYSTEM_DEFINITIONID)" />
            <AssemblyMetadata Include="Vsts_CollectionUri" Value="$(SYSTEM_TEAMFOUNDATIONCOLLECTIONURI)" />
            <AssemblyMetadata Include="Vsts_TeamProject" Value="$(SYSTEM_TEAMPROJECT)" />
            <AssemblyMetadata Include="Vsts_TeamProjectId" Value="$(SYSTEM_TEAMPROJECTID)" />
        </ItemGroup>
    </Target>
</Project>
