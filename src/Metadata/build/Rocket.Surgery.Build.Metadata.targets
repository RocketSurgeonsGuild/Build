<Project>
    <Import Project="$(MSBuildThisFileDirectory)\gitversion.targets" />
    <Import Project="$(MSBuildThisFileDirectory)\gitlab.targets" />
    <Import Project="$(MSBuildThisFileDirectory)\appveyor.targets" />

    <Target Name="CopyAssemblyDataAttribute" BeforeTargets="CoreCompile">
        <Copy SourceFiles="$(MSBuildThisFileDirectory)\AssemblyDataAttribute.cst" DestinationFiles="$(IntermediateOutputPath)\AssemblyDataAttribute.cs" SkipUnchangedFiles="true" />
        <ItemGroup Condition="Exists('$(IntermediateOutputPath)\AssemblyDataAttribute.cs')">
            <Compile Include="$(IntermediateOutputPath)\AssemblyDataAttribute.cs" />

        </ItemGroup>
    </Target>

    <PropertyGroup>
        <BuildDependsOn>EmbedAssemblyDataAttribute;$(BuildDependsOn)</BuildDependsOn>
    </PropertyGroup>
    <Target Name="EmbedAssemblyDataAttribute">
        <ItemGroup>
            <EmbeddedFiles Include="$(IntermediateOutputPath)\AssemblyDataAttribute.cs" />
        </ItemGroup>
    </Target>
</Project>
